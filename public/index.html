<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Relay Stats Analyzer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="header-title-container">
        <img src="relaylogo.png" alt="Relay Logo" class="relay-logo">
        <h1>Relay Bridge Stats</h1>
      </div>
      
      <h2>Proudly Created by</h2>
      <div class="twitter-profile-card">
        <img src="https://pbs.twimg.com/profile_images/1907772459727654912/ayy3k5dc_400x400.png" alt="Love_4_Crypto" class="twitter-profile-image">
        <div class="twitter-profile-info">
          <div class="twitter-name">Love_4_Crypto</div>
          <div class="twitter-handle">@love_4_crypto</div>
        </div>
        <a href="https://twitter.com/intent/follow?screen_name=love_4_crypto" target="_blank" class="twitter-follow-button">
          <i class="twitter-icon"></i>
          Follow
        </a>
      </div>
      
      <div class="wallet-status-container">
        <div id="wallet-status">Not connected</div>
        <button id="disconnect-btn" class="disconnect-button hidden">Disconnect</button>
      </div>
      
      <button id="connect-wallet-btn" class="connect-wallet-button">Connect Wallet</button>
      <p class="subtitle">Connect your wallet to see your cross-chain activity</p>
    </header>
    
    <!-- Wallet Connection Modal -->
    <div id="wallet-modal" class="wallet-modal hidden">
      <div class="wallet-modal-overlay"></div>
      <div class="wallet-modal-content">
        <div class="wallet-modal-header">
          <h2>Connect Your Wallet</h2>
          <button id="close-modal-btn" class="close-modal-btn">&times;</button>
        </div>
        
        <div class="wallet-groups">
          <div class="wallet-group">
            <h3>EVM Wallets</h3>
            <div class="wallet-buttons">
              <button id="connect-metamask" class="wallet-button">
                <img src="https://raw.githubusercontent.com/MetaMask/brand-resources/master/SVG/metamask-fox.svg" alt="MetaMask">
                <span>MetaMask</span>
              </button>
              <button id="connect-walletconnect" class="wallet-button">
                <img src="https://seeklogo.com/images/W/walletconnect-logo-EE83B50C97-seeklogo.com.png" alt="WalletConnect">
                <span>WalletConnect</span>
              </button>
              <button id="connect-coinbase" class="wallet-button">
                <img src="https://altcoinsbox.com/wp-content/uploads/2023/01/coinbase-wallet-logo.png" alt="Coinbase">
                <span>Coinbase</span>
              </button>
            </div>
          </div>
          
          <div class="wallet-group">
            <h3>Solana Wallets</h3>
            <div class="wallet-buttons">
              <button id="connect-phantom" class="wallet-button">
                <img src="https://raw.githubusercontent.com/phantom-labs/press/main/phantom-icon-purple.png" alt="Phantom">
                <span>Phantom</span>
              </button>
              <button id="connect-solflare" class="wallet-button">
                <img src="https://solflare.com/assets/logo-mark.svg" alt="Solflare">
                <span>Solflare</span>
              </button>
              <button id="connect-backpack" class="wallet-button">
                <img src="https://backpack.app/assets/backpack-logo.svg" alt="Backpack">
                <span>Backpack</span>
              </button>
            </div>
          </div>
          
          <div class="wallet-group">
            <h3>Cosmos Wallets</h3>
            <div class="wallet-buttons">
              <button id="connect-keplr" class="wallet-button">
                <img src="https://user-images.githubusercontent.com/545047/202085372-379a2001-9a71-4586-ad0e-bd29d7114daa.svg" alt="Keplr">
                <span>Keplr</span>
              </button>
              <button id="connect-leap" class="wallet-button">
                <img src="https://miro.medium.com/v2/resize:fit:1400/1*9Sjfy7QiXUGZy0SQJQmPVg.png" alt="Leap">
                <span>Leap</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="manual-entry">
      <p>Or enter an address manually:</p>
      <input type="text" id="address-input" placeholder="Enter wallet address...">
      <button id="analyze-btn">Analyze</button>
    </div>
    
    <div id="loading" class="hidden">
      <div class="spinner"></div>
      <p>Analyzing your transactions...</p>
    </div>
    
    <div id="results" class="hidden">
      <div class="summary-container">
        <h2>Activity Summary</h2>
        <div class="summary-grid">
          <div class="summary-item">
            <h3>First Transaction</h3>
            <p id="first-date">-</p>
          </div>
          <div class="summary-item">
            <h3>Total Transactions</h3>
            <p id="tx-count">-</p>
          </div>
          <div class="summary-item">
            <h3>Chains Used</h3>
            <p id="chains-count">-</p>
          </div>
          <div class="summary-item">
            <h3>Tokens Used</h3>
            <p id="tokens-count">-</p>
          </div>
        </div>
        
        <div class="total-value">
          <h2>Total Volume</h2>
          <p id="total-value-display">$0.00</p>
        </div>
      </div>
      
      <div class="tokens-container">
        <h2>Tokens Bridged</h2>
        <table id="tokens-table">
          <thead>
            <tr>
              <th>Token</th>
              <th>Amount</th>
              <th>Price</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody id="tokens-tbody"></tbody>
        </table>
      </div>
      
      <!-- NFT Badge Section -->
      <div id="nft-badge-section" class="nft-badge-container hidden">
        <h2>üèÜ Relay Bridge Contributor Badge</h2>
        <div class="nft-badge-content">
          <div class="nft-badge-image">
            <img src="relay-badge.png" alt="Relay Badge NFT">
          </div>
          <div class="nft-badge-info">
            <h3>Congratulations! You're eligible for a special NFT badge</h3>
            <p>As a multi-transaction Relay bridge user, you can mint this exclusive NFT on Base blockchain.</p>
            <div class="eligibility-info">
              <div class="eligibility-criteria met">
                <i class="checkmark"></i>
                <span>More than 4 transactions</span>
              </div>
              <div class="eligibility-criteria connected">
                <i class="wallet-icon"></i>
                <span>Connected with EVM wallet</span>
              </div>
            </div>
            <button id="mint-nft-btn" class="mint-nft-button">Mint Your Relay Badge</button>
            <p id="nft-mint-status" class="nft-status"></p>
          </div>
        </div>
      </div>
    </div>
    
    <div id="error-message" class="hidden">
      <h3>Error</h3>
      <p id="error-text"></p>
      <ul id="troubleshooting-list"></ul>
    </div>

    <footer>
      <p>Relay Stats App | <a href="https://relay.link" target="_blank">Powered by Relay</a></p>
    </footer>
  </div>
  <script>
  if (typeof exports === 'undefined') {
    var exports = {};
  }
  if (typeof module === 'undefined') {
    var module = {exports: exports};
  }
</script>
  <!-- All Scripts - Properly ordered -->
  <!-- Core Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
  
  <!-- Wallet Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@coinbase/wallet-sdk@3.6.0/dist/index.min.js"></script>
  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
  <script src="https://unpkg.com/@solflare-wallet/sdk@latest/dist/index.umd.js"></script>
  
  <!-- Application Code -->
  <script src="app.js"></script>
</body>
</html>